<!--
Nicholas Dunlop 200451488
Registration Page: allows users to sign up for an "Account".
-->
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<link rel="stylesheet" href="../css/style.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<title>Register</title>
<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
        async defer>
    </script>
<script type="text/javascript">
  var onloadCallback = function() {
    grecaptcha.render('html_element', {
      'sitekey' : '6LdZmqsdAAAAAO4mNGwiN-ahp94KfK3MsDSvRRK1'
    });
  };
</script>
</head>
<body>
<header>
<nav>
		<ul class="nav justify-content-center">
			<li class="nav-item"><a class="nav-link" href="../mainpage/mainpage.html">Home page</a></li>
			<li class="nav-item"><a class="nav-link" href="../makeorder/MakeOrder.html">Make order</a></li>
			<li class="nav-item"><a class="nav-link" href="../loginpage/loginpage.html">Log In</a></li>
			<li class="nav-item"><a class="nav-link" href="../registerpage/registerpage.html">Registration</a></li>
		</ul>
</nav>
</header>
<main>
<div class="centercontent" >
<h1>Register</h1>
</div>
<div>
<form onsubmit="register()">
  <div id=g-recaptcha>
    <label for="input">First name:</label>
    <input type="input" id="firstname" name="firstname" pattern="[A-Za-z]+" title="please enter letters only" required title="required"><br><br>
    <label for="input">Last name:</label>
    <input type="input" id="lastname" name="lastname" pattern="[A-Za-z]+" title="please enter letters only" required title="required"><br><br>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email"><br><br>
    <label for="input">Phone Number:</label>
    <input type="input" id="phonenumber" name="phonenumber" pattern="[0-9]+" title="please enter number only" required title="required"><br><br>
    <span id="emailErrorMessage"></span>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" pattern=".{6,}"  required title="6 characters minimum">><br><br>
    <label for="password">Password Confirmation:</label>
    <input type="password" id="passwordconfirmation" name="passwordconfirmation" ><br><br>
  </div>
</form>
<form action="?" method="POST">
  <div id="html_element"></div>
  <br>
  <input type="submit" value="Submit">
</form>
</div>


<script>
  const email = document.getElementById("email");
  const password = document.getElementById("password");
  const passConfirmation = document.getElementById("passwordconfirmation");

  function validatePassword(){
    
    if(passConfirmation.value != password.value){
      console.log(passConfirmation.value);
      console.log(password.value);
      passConfirmation.setCustomValidity("Password Confirmation doesn't match Password!");
      
    }

    else {
      passConfirmation.setCustomValidity('');
  }
    
    
  }

  
  email.addEventListener("email",function(event){
    
    if(email.validity.typeMismatch){
      email.setCustomValidity("The email you entered is not in a correct format.Please enter again ");
      
    }
    
    
  });

  function register() {
	window.location.href = "../mainpage/mainpage.html";
}

password.onchange = validatePassword;
passConfirmation.onkeyup = validatePassword;
  
  </script>

</main>

</body>
</html>